<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    function convert(arr) {
        if (!arr || !arr.length) return {}
        let res = {}
        const idToTreeNode = new Map()
        arr.forEach(ele => {
            const { id, name, parentId } = ele
            const item = { id, name }
            idToTreeNode.set(id, item)
            const parentNode = idToTreeNode.get(parentId)
            if (parentNode) {
                if (!parentNode.chilren) parentNode.chilren = []
                parentNode.chilren.push(item)
            }
            if (parentId === 0) res = item
        })

        return res
    }


    const arr = [
        { id: 1, name: '部门A', parentId: 0 }, // 0 代表顶级节点，无父节点
        { id: 2, name: '部门B', parentId: 1 },
        { id: 3, name: '部门C', parentId: 1 },
        { id: 4, name: '部门D', parentId: 2 },
        { id: 5, name: '部门E', parentId: 2 },
        { id: 6, name: '部门F', parentId: 3 },
    ]
    const tree = convert(arr)
    console.info(tree)

</script>